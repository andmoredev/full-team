# SAM configuration file
version: 0.1

default:
  build:
    parameters:
      cached: true
      parallel: true

  validate:
    parameters:
      lint: true

  sync:
    parameters:
      watch: true

  local_start_api:
    parameters:
      warm_containers: "EAGER"

  local_start_lambda:
    parameters:
      warm_containers: "EAGER"

# Environment-specific configurations
dev:
  list_stack_outputs:
    parameters:
      output: json
      stack_name: "boilerplate-system-ecr-dev"
  deploy:
    parameters:
      region: "us-east-1"
      stack_name: "boilerplate-system-ecr-dev"
      s3_prefix: "boilerplate-system-ecr-dev"
      tags: "Environment=dev Project=boilerplate-system"
      capabilities: "CAPABILITY_IAM CAPABILITY_NAMED_IAM"
      confirm_changeset: false
      fail_on_empty_changeset: false
      on_failure: "DELETE"